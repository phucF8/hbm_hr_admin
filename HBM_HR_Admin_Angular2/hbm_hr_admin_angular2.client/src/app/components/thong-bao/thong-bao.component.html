
    

    <div class="tabs">
        <div class="tab active">Th√¥ng b√°o</div>
    </div>

    <div class="action-buttons">
        <button class="btn">
          <i class="bi bi-search"></i>T√¨m ki·∫øm</button>
        <!-- Button m·ªü popup t·∫°o m·ªõi -->
        <button class="btn btn-primary" (click)="openTaoThongBaoPopup()">
          <i class="bi bi-plus-circle"></i> T·∫°o m·ªõi
        </button>
        <button class="btn" (click)="openXuatFile()"><i class="bi bi-file-earmark-excel"></i> Xu·∫•t File</button>
    </div>

    <div class="content">
        <div class="panel">
            <div class="panel-header">
                <div><strong>B·∫¢N GHI</strong></div>
                <div class="search-container">
                    <input
                      type="text"
                      class="form-control"
                      placeholder="T√¨m ki·∫øm theo ti√™u ƒë·ªÅ"
                      [(ngModel)]="searchText"
                      (keyup.enter)="onSearchTextChange()" />
                      
                    <button class="btn btn-secondary" (click)="openSearchPopup()">
                      <i class="bi bi-search"></i>
                    </button>
                    
                  </div>
            </div>

            <div class="overlay" [hidden]="!showSearchPopup">
                <div class="overlay-content"  style="background-color: transparent; padding: 0;width: 60%">
                  <app-advanced-search
                    (closePopupEvent)="handleClosePopup($event)"
                    (searchPopupEvent)="handleSearchPopup($event)">
                  </app-advanced-search>
            
                </div>
            </div>

            <!-- h·ªôp tho·∫°i t·∫°o th√¥ng b√°o m·ªõi ho·∫∑c xem chi ti·∫øt th√¥ng b√°o -->
            <div class="overlay" *ngIf="showThongBaoPopup">
                <div class="overlay-content" style="background-color: transparent; padding: 0;width: 60%">
                <chitiet-thong-bao
                    [notificationId]="notificationId"
                    (closePopupEvent)="handleClosePopup($event)"
                    (createEvent)="handleCreate($event)">
                </chitiet-thong-bao>
                </div>
            </div>
            



            <table>
              <thead>
                  <tr>
                      <th style="width: 40px;">
                        <input type="checkbox" [(ngModel)]="selectAll" (change)="toggleSelectAll()">
                      </th>
                      <th style="width: 150px;">Ti√™u ƒë·ªÅ</th>
                      <th style="width: 300px;">N·ªôi dung</th>
                      <th style="width: 120px;">Ng∆∞·ªùi g·ª≠i</th>
                      <th style="width: 150px;">Ng√†y t·∫°o</th>
                      <th style="width: 100px;">Ho√†n th√†nh</th>
                      <th style="width: 120px;">Lo·∫°i</th>
                      <th style="width: 120px;">Nh√≥m</th>
                      <th style="width: 100px;">H√†nh ƒë·ªông</th>
                  </tr>
              </thead>
                <tbody>
                    <tr *ngFor="let tb of thongBaoList" [ngClass]="{'table-success': tb.status == 1}">
                      <td>
                        <input type="checkbox" [(ngModel)]="tb.selected" [disabled]="tb.status === 1">
                      </td>
                      <td>
                        {{ tb.title }}
                      </td>
                      <td>{{ tb.content }}</td>
                      <td>{{ tb.tenNhanVien }}</td>
                      <td>{{ tb.ngayTao | date:'dd/MM/yyyy HH:mm' }}</td>
                      <td>{{ tb.receivedCount }}/{{ tb.totalRecipients }}</td>
                      <td>{{ getNotificationTypeName(tb.notificationType) }}</td>
                      <td>{{ tb.loaiThongBao}}</td>
                      <td>
                        <div class="dropdown-wrapper" (click)="toggleMenu(tb)">
                          <div class="dropdown-button">
                            <div class="arrow-down"></div>
                          </div>
                          <div class="popup-menu" *ngIf="openedMenuId === tb.id">
                            <div class="menu-item view"  *ngIf="tb.status === 1" (click)="viewThongBao(tb.id)">
                              <i>üîç</i>
                              <div class="menu-text">Xem</div>
                            </div>
                            <div class="menu-item edit" *ngIf="tb.status !== 1" (click)="editThongBao(tb.id)">
                              <i>‚úèÔ∏è</i>
                              <div class="menu-text">S·ª≠a</div>
                            </div>
                            <div class="menu-item delete" *ngIf="tb.status !== 1" (click)="deleteThongBao(tb.id)">
                              <i>üóëÔ∏è</i>
                              <div class="menu-text">X√≥a</div>
                            </div>
                          </div>
                        </div>
                      </td>
                      
                    </tr>
                </tbody>
            </table>

            <!-- Pagination section -->
            <app-pagination [totalPages]="totalPages" [currentPage]="currentPage" (pageChange)="onPageChange($event)">
            </app-pagination>
            
        </div>
    </div>

    <!-- Back to top button -->
    <div class="back-to-top">‚Üë</div>

    <div class="footer">
        <span>14:31</span>
    </div>


   