
    <div class="header">
        <div class="logo"></div>
        <div class="nav-item">
            <i>üë§</i>
            <select>
                <option>Nh√¢n S·ª±</option>
            </select>
        </div>
        <div class="nav-item">
            <i>üìÖ</i>
            <select>
                <option>H√†nh ch√≠nh</option>
            </select>
        </div>
        <div class="nav-item">
            <i>üìù</i>
            <select>
                <option>Request</option>
            </select>
        </div>
        <div class="nav-item">
            <i>üìä</i>
            <select>
                <option>Tƒê&ƒêT</option>
            </select>
        </div>
        <div class="nav-item">
            <i>‚öôÔ∏è</i>
            <select>
                <option>√î TR·ªä</option>
            </select>
        </div>
        <div class="user-info">
            <i>üîî</i>
            <div class="user-avatar"></div>
            <span>Ph√∫c - S001</span>
            <i>‚ñº</i>
        </div>
    </div>

    <div class="tabs">
        <div class="tab active">REQUEST</div>
        <div class="tab">QUY TR√åNH</div>
        <div class="tab">T·∫†O/PH√ä DUY·ªÜT REQUEST</div>
    </div>

    <div class="action-buttons">
        <button class="btn"><i>üîç</i> T√¨m ki·∫øm (F3)</button>
        <button class="btn" (click)="taoThongBao()">
            <i class="bi bi-plus-circle"></i> T·∫°o th√¥ng b√°o
          </button>
        <button class="btn" (click)="toggleAdvancedSearch()"><i class="bi bi-file-earmark-excel"></i> Xu·∫•t File</button>
    </div>

    <div class="content">
        <div class="panel">
            <div class="panel-header">
                <div><strong>B·∫¢N GHI</strong></div>
                <div class="search-container">
                    <input
                      type="text"
                      class="form-control"
                      placeholder="T√¨m ki·∫øm theo ti√™u ƒë·ªÅ"
                      [(ngModel)]="searchText"
                      (keyup.enter)="onSearchTextChange()" />
                      
                    <button class="btn btn-secondary" (click)="toggleAdvancedSearch()">
                      <i class="bi bi-search"></i>
                    </button>


                    <!-- Button m·ªü popup t·∫°o m·ªõi -->
                    <button class="btn btn-primary" (click)="toggleCreatePopup()">
                        <i class="bi bi-plus-circle"></i> T·∫°o m·ªõi
                    </button>



                  </div>
            </div>

            <div class="overlay" [hidden]="!showAdvancedSearch">
                <div class="overlay-content" style="background-color: aqua; padding: 0;">
                  <button class="btn-close" (click)="toggleAdvancedSearch()">&times;</button>
                  <app-advanced-search
                    (closePopupEvent)="handleClosePopup()"
                    (searchPopupEvent)="handleSearchPopup($event)">
                  </app-advanced-search>
            
                </div>
            </div>

            <!-- Popup T·∫°o m·ªõi -->
            <div class="overlay" [hidden]="!showCreatePopup">
                <div class="overlay-content" style="background-color: transparent; padding: 0;width: 100%">
                <!-- <button class="btn-close" (click)="toggleCreatePopup()">&times;</button> -->
                <chitiet-thong-bao
                    (closePopupEvent)="handleClosePopup()"
                    (createEvent)="handleCreate($event)">
                </chitiet-thong-bao>
                </div>
            </div>
            



            <table>
                <thead>
                    <tr>
                        <th>
                          <input type="checkbox" [(ngModel)]="selectAll" (change)="toggleSelectAll()">
                        </th>
                        <th>Ti√™u ƒë·ªÅ</th>
                        <th>N·ªôi dung</th>
                        <th>Ng∆∞·ªùi g·ª≠i</th>
                        <th>Ng√†y gi·ªù g·ª≠i</th>
                        <th>Send succ / sum</th>
                        <th>Lo·∫°i th√¥ng b√°o</th>
                        <th>H√†nh ƒë·ªông</th>

                    </tr>
                </thead>
                <tbody>
                    <tr *ngFor="let tb of thongBaoList" [ngClass]="{'table-success': tb.status == 1}">
                      <td>
                        <input type="checkbox" [(ngModel)]="tb.selected" [disabled]="tb.status === 1">
                      </td>
                      <td>
                        {{ tb.title }}
                      </td>
                      <td>{{ tb.content }}</td>
                      <td>{{ tb.tenNhanVien }}</td>
                      <td>{{ tb.sentAt | date:'dd/MM/yyyy HH:mm' }}</td>
                      <td>{{ tb.receivedCount }}/{{ tb.totalRecipients }}</td>
                      <td>{{ getNotificationTypeName(tb.notificationType) }}</td>
                      <td>
                        <button 
                          class="btn btn-warning btn-sm" 
                          (click)="(tb.status === 1) ? viewThongBao(tb.id) : editThongBao(tb.id)">
                          <i class="bi" [ngClass]="(tb.status === 1) ? 'bi-eye' : 'bi-pencil-square'"></i>
                          {{ (tb.status === 1) ? 'Xem' : 'S·ª≠a' }}
                        </button>
                        <button 
                          *ngIf="tb.status !== 1"
                          class="btn btn-danger btn-sm ms-2" 
                          (click)="deleteThongBao(tb.id)">
                          <i class="bi bi-trash"></i> X√≥a
                        </button>
            
                      </td>
                    </tr>
                </tbody>
            </table>
            

            <!-- Pagination section -->
            <app-pagination [totalPages]="totalPages" [currentPage]="currentPage" (pageChange)="onPageChange($event)">
            </app-pagination>
            
        </div>
    </div>

    <!-- Back to top button -->
    <div class="back-to-top">‚Üë</div>

    <div class="footer">
        <span>14:31</span>
    </div>
