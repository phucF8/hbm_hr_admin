<div style="padding-left: 48px; padding-right: 48px;">
  <div class="tabs">
    <div class="tab active">DANH S√ÅCH CH·ª¶ ƒê·ªÄ</div>
  </div>

  <div class="action-buttons">

  </div>




  <div class="search-container">

    <div class="search-form" style="display: flex; align-items: center; justify-content: space-between;">

      <div>
        <div style="display: flex;gap: 10px; margin-bottom: 16px;">
        </div>
        <div style="display: flex; gap: 8px; width: 100%;">
        </div>
      </div>

      <div class="buttons-container">
        <div class="right-buttons">
          <button class="btn btn-primary" (click)="openCreateTopicDialog()">
            <i class="bi bi-plus-circle"></i> T·∫°o m·ªõi
          </button>
          <button *ngIf="hasSelected()" class="btn" (click)="deleteListSelected()">
            <i class="bi bi-trash"></i> X√≥a nh·ªØng m·ª•c ƒë√£ ch·ªçn
          </button>
        </div>
      </div>

    </div>
  </div>











  <div>
    <div class="panel">
      <div class="panel-header">
        <div><strong>B·∫¢N GHI</strong></div>
        <div class="search-container">

          <div class="buttons-container">
            <div class="right-buttons">
              <button *ngIf="hasSelected()" class="btn" (click)="deleteListSelected()">
                <i class="bi bi-trash"></i> X√≥a nh·ªØng m·ª•c ƒë√£ ch·ªçn
              </button>
            </div>
          </div>


        </div>
      </div>



      <!-- h·ªôp tho·∫°i t·∫°o th√¥ng b√°o m·ªõi ho·∫∑c xem chi ti·∫øt th√¥ng b√°o -->
      <div class="overlay" *ngIf="showPopup">
        <div class="overlay-content" style="background-color: transparent; padding: 0;width: 60%">
          <!-- <chitiet-thong-bao [notificationId]="notificationId" (closePopupEvent)="handleClosePopup($event)"
            (createEvent)="handleCreate($event)">
          </chitiet-thong-bao> -->
        </div>
      </div>
      <table class="my-table">
        <thead>
          <tr>
            <th style="width: 2%;">
              <input type="checkbox" [(ngModel)]="selectAll" (change)="toggleSelectAll()">
            </th>
            <th style="width: 10%;white-space: nowrap;text-align: center;">Th·ªùi gian</th>
            <th style="width: 20%;white-space: nowrap;text-align: center;">Ti√™u ƒë·ªÅ</th>
            <th style="white-space: nowrap;text-align: center;">M√¥ t·∫£</th>
            <th style="width: 10%;white-space: nowrap;text-align: center;">Tr·∫°ng th√°i</th>
            <th style="width: 5%;"></th>
          </tr>
        </thead>
        <tbody>
          <ng-container *ngIf="listItem && listItem.data && listItem.data.items">
            <tr *ngFor="let tb of listItem.data.items" (click)="view(tb.id)">
              <td>
                <input type="checkbox" (click)="$event.stopPropagation()" [(ngModel)]="tb.selected">
              </td>
              <td style="white-space: nowrap;">
                {{ tb.startDate | date:'dd/MM/yyyy'}} - {{ tb.endDate | date:'dd/MM/yyyy' }}
              </td>
              <td>
                {{ tb.title }}
              </td>
              <td style="text-align: justify;">{{ tb.description }}</td>
              <td style="text-align:center;">
                <!-- Hi·ªÉn th·ªã theo s·ªë trong DB -->
                <span *ngIf="tb.status === 0" class="badge bg-secondary">So·∫°n th·∫£o</span>
                <span *ngIf="tb.status === 1" class="badge bg-warning">S·ª≠a ƒë·ªïi</span>
                <span *ngIf="tb.status === 2" class="badge bg-danger">Ph√°t h√†nh</span>
                <span *ngIf="tb.status === 3" class="badge bg-info">Hu·ª∑ ph√°t h√†nh</span>

              </td>
              <td>
                <div class="dropdown-wrapper" (click)="toggleMenu(tb); $event.stopPropagation()">
                  <div class="dropdown-button">
                    <div class="arrow-down"></div>
                  </div>
                  <div class="popup-menu" *ngIf="openedMenuId === tb.id">

                    <div class="menu-item view" (click)="view(tb.id)">
                      <i class="bi bi-eye"></i>
                      <div class="menu-text">Xem</div>
                    </div>

                    <div class="menu-item view" (click)="thietLapPhatHanh(tb)">
                      <i class="bi bi-megaphone"></i>
                      <div class="menu-text">Thi·∫øt l·∫≠p ph√°t h√†nh</div>
                    </div>

                    <div class="menu-item view" (click)="tb.status === 2 ? onCancelPublish(tb) : onPublish(tb)">

                      <div class="menu-text">
                        <ng-container *ngIf="tb.status === 2; else publishText">
                          ‚ùå Hu·ª∑ ph√°t h√†nh
                        </ng-container>
                        <ng-template #publishText>
                          üöÄ Ph√°t h√†nh
                        </ng-template>
                      </div>
                    </div>

                    <div class="menu-item view" (click)="report(tb.id)">
                      <i class="bi bi-bar-chart"></i>
                      <div class="menu-text">b√°o c√°o</div>
                    </div>

                    <!-- <div class="menu-item delete" (click)="delete(tb.id)">
                                <i class="bi bi-trash"></i>
                                <div class="menu-text">X√≥a</div>
                            </div> -->
                  </div>


                </div>
              </td>
            </tr>
          </ng-container>
        </tbody>
      </table>
      <!-- Pagination section -->
      <!-- <app-pagination [totalPages]="totalPages" [currentPage]="currentPage" (pageChange)="onPageChange($event)">
      </app-pagination> -->
    </div>
  </div>

  <!-- Back to top button -->
  <div class="back-to-top">‚Üë</div>


</div>