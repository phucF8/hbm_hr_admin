<div class="feedback-container">
  <div class="header">
    <h1>Qu·∫£n l√Ω √ù ki·∫øn ƒê√£ G·ª≠i</h1>
    <p class="subtitle">Theo d√µi v√† x·ª≠ l√Ω c√°c √Ω ki·∫øn, g√≥p √Ω t·ª´ ng∆∞·ªùi d√πng</p>
  </div>

  <!-- Filter Section -->
  <div class="filter-section">
    <div class="filter-header">
      <span class="filter-icon">‚öô</span>
      <span class="filter-title">B·ªô l·ªçc</span>
    </div>

    <div class="filter-content">
      <!-- Search -->
      <div class="filter-group">
        <input 
          type="text" 
          class="filter-input" 
          placeholder="T√¨m ki·∫øm theo ti√™u ƒë·ªÅ..."
          [(ngModel)]="searchText"
          (input)="applyFilters()">
      </div>

      <!-- Type Filter -->
      <div class="filter-group">
        <select 
          class="filter-select" 
          [(ngModel)]="selectedType"
          (change)="applyFilters()">
          <option value="">T·∫•t c·∫£ lo·∫°i</option>
          <option value="G√≥p √Ω">G√≥p √Ω</option>
          <option value="B√°o l·ªói">B√°o l·ªói</option>
          <option value="ƒê·ªÅ xu·∫•t t√≠nh nƒÉng">ƒê·ªÅ xu·∫•t t√≠nh nƒÉng</option>
          <option value="Khi·∫øu n·∫°i">Khi·∫øu n·∫°i</option>
          <option value="B√°o m·∫≠t">B√°o m·∫≠t</option>
        </select>
      </div>

      <!-- Status Filter -->
      <div class="filter-group">
        <select 
          class="filter-select" 
          [(ngModel)]="selectedStatus"
          (change)="applyFilters()">
          <option value="">T·∫•t c·∫£ tr·∫°ng th√°i</option>
          <option value="pending">Ch·ªù x·ª≠ l√Ω</option>
          <option value="processing">ƒêang x·ª≠ l√Ω</option>
          <option value="resolved">ƒê√£ gi·∫£i quy·∫øt</option>
          <option value="rejected">ƒê√£ t·ª´ ch·ªëi</option>
        </select>
      </div>

      <!-- Date Range -->
      <div class="filter-group">
        <input 
          type="date" 
          class="filter-date"
          [(ngModel)]="startDate"
          (change)="applyFilters()">
      </div>

      <div class="filter-group">
        <input 
          type="date" 
          class="filter-date"
          [(ngModel)]="endDate"
          (change)="applyFilters()">
      </div>

      <!-- Clear Filter Button -->
      <div class="filter-actions">
        <button class="btn-clear" (click)="clearFilters()">
          X√≥a t·∫•t c·∫£ b·ªô l·ªçc
        </button>
        <span class="result-count">Hi·ªÉn th·ªã {{ filteredFeedbacks.length }} / {{ feedbacks.length }} √Ω ki·∫øn</span>
      </div>
    </div>
  </div>

  <!-- Table Section -->
  <div class="table-container">
    <table class="feedback-table">
      <thead>
        <tr>
          <th>ID</th>
          <th>TI√äU ƒê·ªÄ</th>
          <th>LO·∫†I</th>
          <th>NG√ÄY G·ª¨I</th>
          <th>TR·∫†NG TH√ÅI</th>
          <th>H√ÄNH ƒê·ªòNG</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let feedback of filteredFeedbacks">
          <td>#{{ feedback.id }}</td>
          <td>{{ feedback.title }}</td>
          <td>{{ feedback.type }}</td>
          <td>{{ feedback.dateSubmitted | date: 'dd/MM/yyyy' }}</td>
          <td>
            <span class="status-badge status-{{ feedback.status }}">
              {{ getStatusLabel(feedback.status) }}
            </span>
          </td>
          <td>
            <div class="action-buttons">
              <button class="btn-icon btn-view" (click)="viewFeedback(feedback.id)" title="Xem">
                üëÅ
              </button>
              <button class="btn-icon btn-edit" (click)="editFeedback(feedback.id)" title="Ch·ªânh s·ª≠a">
                ‚úè
              </button>
              <button class="btn-icon btn-delete" (click)="deleteFeedback(feedback.id)" title="X√≥a">
                üóë
              </button>
            </div>
          </td>
        </tr>
      </tbody>
    </table>

    <div *ngIf="filteredFeedbacks.length === 0" class="no-results">
      <p>Kh√¥ng t√¨m th·∫•y √Ω ki·∫øn n√†o ph√π h·ª£p v·ªõi b·ªô l·ªçc.</p>
    </div>
  </div>
</div>